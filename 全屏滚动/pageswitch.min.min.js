var wrap=document.getElementById("wrap");var main=document.getElementById("main");var hei=document.body.clientHeight;wrap.style.height=hei+"px";var obj=document.getElementsByTagName("div");for(var i=0;i<obj.length;i++){if(obj[i].className=='page'){obj[i].style.height=hei+"px";}}
var startTime=0,endTime=0,now=0;if((navigator.userAgent.toLowerCase().indexOf("firefox")!=-1)){document.addEventListener("DOMMouseScroll",scrollFun,false);}
else if(document.addEventListener){document.addEventListener("mousewheel",scrollFun,false);}
else if(document.attachEvent){document.attachEvent("onmousewheel",scrollFun);}
else{document.onmousewheel=scrollFun;}
function scrollFun(event){startTime=new Date().getTime();var delta=event.detail||(-event.wheelDelta);if((endTime-startTime)<-1000){if(delta>0&&parseInt(main.offsetTop)>-(hei*3)){now=now-hei;toPage(now);}
if(delta<0&&parseInt(main.offsetTop)<0){now=now+hei;toPage(now);}
endTime=new Date().getTime();}
else{event.preventDefault();}}
function toPage(now){$("#main").animate({top:(now+'px')},1000);}